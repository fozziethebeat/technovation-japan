{"ast":null,"code":"import { configureStore } from '@reduxjs/toolkit';\nimport Airtable from 'airtable';\nimport commentReducer from \"./commentSlice\";\nimport { init as commentInit } from \"./farmerSlice\";\nimport farmerReducer from \"./farmerSlice\";\nimport { init as farmerInit } from \"./farmerSlice\";\nvar preloadedState = {\n  farmer: [],\n  comment: [{\n    Username: 'yusano',\n    Content: 'Best potatoes Ever',\n    key: '001'\n  }, {\n    Username: 'yuichinabe',\n    Content: 'Let me pick berries',\n    key: '002'\n  }, {\n    Username: 'yuichinabe',\n    Content: 'Tells great jokes',\n    key: '003'\n  }]\n};\nvar store = configureStore({\n  reducer: {\n    farmer: farmerReducer,\n    comment: commentReducer\n  },\n  preloadedState: preloadedState\n});\nvar table = new Airtable({\n  apiKey: process && process.env && process.env.AIRTABLE_API_KEY || \"keyOIGxfs3sOz7peI\"\n});\nvar base = table.base('appwPdl5QXUtRh8Rz');\nbase('Table 1').select({}).eachPage(function page(records, fetchNextPage) {\n  records.map(function (r) {\n    return {\n      Name: r.get('Name'),\n      Image: {\n        uri: r.get('Image')[0].url\n      },\n      Username: r.get('Username'),\n      Location: r.get('Location'),\n      Favorites: r.get('Favorites').split(',').map(function (f) {\n        return f.trim();\n      })\n    };\n  }).forEach(function (r) {\n    return store.dispatch(farmerInit(r));\n  });\n  fetchNextPage();\n}, function done(err) {\n  console.log(err);\n});\nbase('Comments').select({}).eachPage(function page(records, fetchNextPage) {\n  records.map(function (r) {\n    return {\n      Username: r.get('Farmer'),\n      Content: r.get('Comments'),\n      Key: r.get('uuid')\n    };\n  }).forEach(function (r) {\n    return store.dispatch(commentInit(r));\n  });\n  fetchNextPage();\n}, function done(err) {});\nexport default store;","map":{"version":3,"sources":["/Users/fozziethebeat/devel/technovation-japan/nougyou-arigatou/react-native/final-version/Store.tsx"],"names":["configureStore","Airtable","commentReducer","init","commentInit","farmerReducer","farmerInit","preloadedState","farmer","comment","Username","Content","key","store","reducer","table","apiKey","base","select","eachPage","page","records","fetchNextPage","map","r","Name","get","Image","uri","url","Location","Favorites","split","f","trim","forEach","dispatch","done","err","console","log","Key"],"mappings":"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","sourcesContent":["import { configureStore } from '@reduxjs/toolkit'\nimport Airtable from 'airtable';\n\nimport Images from './assets/Images';\nimport commentReducer from './commentSlice';\nimport { init as commentInit } from './farmerSlice';\nimport farmerReducer from './farmerSlice';\nimport { init as farmerInit } from './farmerSlice';\n\nconst preloadedState = {\n  farmer: [],\n  comment: [\n    {Username: 'yusano', Content: 'Best potatoes Ever', key: '001'},\n    {Username: 'yuichinabe', Content: 'Let me pick berries', key: '002'},\n    {Username: 'yuichinabe', Content: 'Tells great jokes', key: '003'},\n  ]\n};\n\nconst store = configureStore({\n  reducer: {\n    farmer: farmerReducer,\n    comment: commentReducer,\n  },\n  preloadedState\n});\n\n// Read the initial set of farmers from Airtable.\nconst table =  new Airtable({apiKey : process.env.AIRTABLE_API_KEY})\nconst base = table.base('appwPdl5QXUtRh8Rz');\nbase('Table 1').select({}).eachPage(\n  function page(records, fetchNextPage) {\n    records.map(r => {\n      return {\n      Name: r.get('Name'),\n      Image: {uri: r.get('Image')[0].url},\n      Username: r.get('Username'),\n      Location: r.get('Location'),\n      Favorites: r.get('Favorites').split(',').map(f => f.trim()),\n    };\n    })\n      .forEach(r => store.dispatch(farmerInit(r)));\n    fetchNextPage();\n  },\n  function done(err) {\n    console.log(err);\n  });\n\nbase('Comments').select({}).eachPage(\n  function page(records, fetchNextPage) {\n    records.map(r => {\n      return {\n      Username: r.get('Farmer'),\n      Content: r.get('Comments'),\n      Key: r.get('uuid'),\n    };\n    })\n      .forEach(r => store.dispatch(commentInit(r)));\n    fetchNextPage();\n  },\n  function done(err) {\n  });\n\nexport default store;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n"]},"metadata":{},"sourceType":"module"}